# MyTwitter

Реализация наивного твиттера с целью:
1. Опробовать подход, когда сначала реализую бизнес-логику и ее тесты, а уже потом все остальное.
2. Попробовать сделать так, чтобы бизнес-логика была бы полностью свободна от зависимостей от технических фреймворков (Spring-а) и хранилища и UI. 

Что сделал:
1. Попробовал реализовать сначала доменную логику твиттера так, чтобы она была максимально понятна и очевидна. Реализация логики учитывает предполагаемый профиль нагрузки - getNewsFeed выполняется очень часто (O(1)), postTweet - умеренно (O(F)), follow/unfollow - очень редко (O(1) - тк количество записей в ленте каждого пользователя ограничено). Сразу написал тесты бизнес-логики и полностью ее отладил.
2. Затем реализовал способ хранения информации о подписках через БД.
3. Затем реализовал REST-интерфейс.

Выводы и особенности реализации:
1. Бизнес-логика собрана в одном пакете twitter.domain и не содержит никаких зависимостей ни от Spring Framework, ни от хранилища, ни от UI. Это сделано с помощью инверсии зависимостей (см. ниже) и того, что на уровне Spring Framework в бине Config по сути реализуется паттерн Factory.
2. Логика хранения подписок собрана в пакете twitter.persistence и реализует интерфейс UserRepository. Таким образом, мы инвертируем зависимость и обеспечиваем то, что ни UI-логика, ни доменная логика не зависит от реализации хранения. Уровень хранения в БД реализован через Spring Data.
3. UI-логика собрана в пакете twitter.web и зависит только от бизнес-логики и Spring MVC.
4. Мне показалось, что такой способ реализации - сначала бизнес-логику, потом хранение и UI - оказался очень удобен, т.к. основная сложность сидит в реализации бизнес-логики, а не в UI или хранении. После того как я реализовал и протестировал бизнес-логику, добавить перситентность и UI оказалось очень просто.

